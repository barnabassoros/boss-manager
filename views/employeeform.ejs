<%- include('header') %>

<h1 style="text-align: center">
    <% if (typeof employee === 'undefined') { %>
    Creating an employee
    <% } else { %> 
    Editing an employee
    <% } %> 
    </h1>

<div class="container align-middle"  id="formgr">
    <form method="POST" enctype="multipart/form-data">
      <div class="form-group row">
        <div class="col-sm-2">
        <label for="name">Name</label>
      </div>
        <div class="col-sm-6">
        <input type="text" class="form-control" id="name" name="name" value="<%= (typeof employee === 'undefined') ? '' : employee.name %>">
      </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-2">
        <label for="birthDate">Birthdate</label>
      </div>
        <div class="col-sm-6">
        <input type="date" class="form-control" id="dateOfBirth" name="dateOfBirth" value="<%= (typeof employee === 'undefined') ? '' :formattedDate%>">
      </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-2">
        <label for="employer">Employer</label>
      </div>
        <div class="col-sm-6">
        <input type="text" class="form-control" id="employer" name="employer" value="<%= (typeof employee === 'undefined') ? '' : employee._employer.name %>">
      </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-2">
        <label for="profession">Profession</label>
      </div>
        <div class="col-sm-6">
          <select class="form-control" id="profession" name="profession">
              <option <%= (typeof employee === 'undefined') ? 'selected' : (employee.profession=='Driver') ? 'selected' : '' %> >Driver</option>
              <option <%= (typeof employee === 'undefined') ? '' : (employee.profession=='Gunman') ? 'selected' : '' %>>Gunman</option>
              <option <%= (typeof employee === 'undefined') ? '' : (employee.profession=='Accountant') ? 'selected' : '' %>>Accountant</option>
            </select>
      </div>
      </div>
      <div class="form-group row">          
          <div class="col-sm-2">
              <label for="succesRate">Job succes rate</label>
          </div>
          <div class="col-sm-1">
              <input type="number" class="form-control" id="succesRate" name="succesRate" value=<%= (typeof employee === 'undefined') ? '' : employee.succesRate %> style="text-align:right;">
          </div>
      </div>
      <div class="form-group row">          
        <div class="col-sm-2">
            <label for="loyalty">Loyalty</label>
        </div>
        <div class="col-sm-1">
            <input type="number" class="form-control" id="loyalty" name="loyalty" value=<%= (typeof employee === 'undefined') ? '' : employee.loyalty %> style="text-align:right;">
        </div>    
    </div>
    <div class="form-group row">
      <div class="col-sm-1">
        <label for="wealth">Picture</label>
      </div>
    <div class="custom-file col-sm-6">
      <input type="file" name="profile">
    </div>
    </div>
    <% if(typeof employee !== 'undefined' ) { %>
      <div class="form-group row">
        <div class="col-sm-7">
      <div class="alert alert-danger" role="alert">
        Only upload a file if you want to change the picture!
      </div>
      </div>
      </div>

    <% } %>
      <div class="row">
        <div class="col-sm-1">
          <button type="submit" class="btn btn-dark">Submit</button>
        </div>
        <div class="col-sm-1">
          <a href="/employeelist" class="btn btn-dark">Cancel</a>
        </div>
      </div>
    </form>
  </div>
</div>
<%- include('footer') %>